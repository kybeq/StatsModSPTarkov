{% extends "base.html" %} {% block title %}Szczegóły gracza: {{ nickname }}{%
endblock %} {% block content %}
<div>
  <h1>Szczegóły gracza: {{ nickname }}</h1>
</div>

{% if errors %}
<div>
  <h2>Wystąpiły błędy podczas ładowania danych:</h2>
  <ul>
    {% for error in errors %}
    <li>{{ error }}</li>
    {% endfor %}
  </ul>
</div>
{% endif %} {% if player_info %}
<div>
  <h2>Informacje o graczu:</h2>
  <ul>
    <li>Ostatni znany poziom: {{ player_info.latest_level }}</li>
    <li>Ostatnia znana strona: {{ player_info.latest_side }}</li>
    <li>Liczba zarejestrowanych rajdów: {{ player_info.raid_count }}</li>
  </ul>
</div>
{% endif %}

<div>
  <h2>Rajdy gracza ({{ raids|length }}):</h2>
  {% if raids %}
  <ul>
    {% for raid in raids %}
    <li>
      <div>
        Mapa: {{ raid.location }} | Wynik: {{ raid.result }} | Czas: {{
        raid.play_time_formatted }} | Zabójstwa: {{ raid.kills }} | EXP: {{
        raid.exp }} | Data: {{ raid.timestamp.strftime('%Y-%m-%d %H:%M:%S') if
        raid.timestamp else 'Brak daty' }}
      </div>
      <div>
        <a href="{{ url_for('raid_details', filename=raid.filename) }}"
          >Szczegóły rajdu ({{ raid.filename }})</a
        >
      </div>
    </li>
    {% else %}
    <li>Brak zarejestrowanych rajdów dla tego gracza.</li>
    {% endfor %}
  </ul>
  {% else %}
  <div>Brak rajdów do wyświetlenia.</div>
  {% endif %}
</div>

<div>
  <a href="{{ url_for('index') }}">Powrót do strony głównej</a>
</div>
{% endblock %}
