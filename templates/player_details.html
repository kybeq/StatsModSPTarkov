{% extends "base.html" %} {% block title %}Szczegóły gracza: {{ nickname }}{%
endblock %} {% block content %}
<!-- Sekcja nagłówkowa -->
<section class="container py-5">
  <div class="text-center mb-5">
    <h1 class="display-4 fw-bold">
      <i class="fas fa-user me-2"></i>Szczegóły gracza: {{ nickname }}
    </h1>
  </div>

  <!-- Sekcja błędów -->
  {% if errors %}
  <div class="alert alert-danger animate-fade-in" role="alert">
    <h2>
      <i class="fas fa-exclamation-triangle me-2"></i>Wystąpiły błędy podczas
      ładowania danych:
    </h2>
    <ul>
      {% for error in errors %}
      <li>{{ error }}</li>
      {% endfor %}
    </ul>
  </div>
  {% endif %}

  <!-- Informacje o graczu -->
  {% if player_info %}
  <section class="mb-5">
    <h2 class="mb-4">
      <i class="fas fa-info-circle me-2"></i>Informacje o graczu
    </h2>
    <div class="card shadow-sm animate-fade-in">
      <div class="card-body">
        <ul class="list-unstyled">
          <li class="mb-3">
            <i class="fas fa-level-up-alt me-2"></i
            ><strong>Ostatni znany poziom:</strong> {{ player_info.latest_level
            }}
          </li>
          <li class="mb-3">
            <i class="fas fa-shield-alt me-2"></i
            ><strong>Ostatnia znana strona:</strong> {{ player_info.latest_side
            }}
          </li>
          <li class="mb-3">
            <i class="fas fa-flag-checkered me-2"></i
            ><strong>Liczba zarejestrowanych rajdów:</strong> {{
            player_info.raid_count }}
          </li>
        </ul>
      </div>
    </div>
  </section>
  {% endif %}

  <!-- Lista rajdów -->
  <section class="mb-5">
    <h2 class="mb-4">
      <i class="fas fa-flag-checkered me-2"></i>Rajdy gracza ({{ raids|length
      }})
    </h2>
    {% if raids %}
    <div class="table-responsive animate-fade-in">
      <table class="table table-hover">
        <thead>
          <tr>
            <th scope="col">Mapa</th>
            <th scope="col">Wynik</th>
            <th scope="col">Czas</th>
            <th scope="col">Zabójstwa</th>
            <th scope="col">EXP</th>

            <th scope="col">Akcje</th>
          </tr>
        </thead>
        <tbody>
          {% for raid in raids %}
          <tr>
            <td>{{ raid.location }}</td>
            <td>{{ raid.result }}</td>
            <td>{{ raid.play_time_formatted }}</td>
            <td>{{ raid.kills }}</td>
            <td>{{ raid.exp }}</td>
            <td>
              <a
                href="{{ url_for('raid_details', filename=raid.filename) }}"
                class="btn btn-sm btn-primary"
              >
                <i class="fas fa-eye me-1"></i>Szczegóły
              </a>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
    {% else %}
    <div class="alert alert-warning animate-fade-in" role="alert">
      <i class="fas fa-exclamation-circle me-2"></i>Brak zarejestrowanych rajdów
      dla tego gracza.
    </div>
    {% endif %}
  </section>

  <!-- Przycisk powrotu -->
  <div class="text-center mb-5">
    <a href="{{ url_for('index') }}" class="btn btn-outline-primary">
      <i class="fas fa-arrow-left-ml-2"></i>Powrót do strony głównej
    </a>
  </div>
</section>
{% endblock %}
